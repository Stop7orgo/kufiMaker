<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"/>
<title>kufiMaker</title>

<!-- โโ Favicon โโ -->
<link rel="icon" type="image/x-icon" href="https://ab7dz.github.io/kufiMaker/icons/kufimaker.ico"/>

<!-- โโ PWA Manifest โโ -->
<link rel="manifest" href="manifest.json"/>

<!-- โโ PWA Meta Tags โโ -->
<meta name="theme-color" content="#111318"/>
<meta name="mobile-web-app-capable" content="yes"/>
<meta name="apple-mobile-web-app-capable" content="yes"/>
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>
<meta name="apple-mobile-web-app-title" content="kufiMaker"/>

<!-- โโ Apple Touch Icons (required for iOS Add to Home Screen) โโ -->
<link rel="apple-touch-icon" href="icons/icon-192.png"/>
<link rel="apple-touch-icon" sizes="192x192" href="icons/icon-192.png"/>
<link rel="apple-touch-icon" sizes="512x512" href="icons/icon-512.png"/>

<!-- โโ SEO โโ -->
<meta name="description" content="kufiMaker โ ูุญุฑุฑ ุงูุฎุท ุงููููู ุงููุฑุจุน ูุฌุงูุงู ูู ุงููุชุตูุญ. Square Kufic Script Editor."/>
<meta name="description" content="kufiMaker โ ูุญุฑุฑ ุงูุฎุท ุงููููู ุงููุฑุจุน ูุฌุงูุงู ูู ุงููุชุตูุญ. Square Kufic Script Editor."/>
<meta name="keywords" content="ุฎุท ูููู, ูููู ูุฑุจุน, ูุญุฑุฑ ุฎุท ุนุฑุจู, pixel art ุนุฑุจู, kufi, arabic calligraphy, kufi square, free arabic font tool"/>
<meta name="author" content="ab7dz:(Hasnaoui)"/>
<link rel="canonical" href="https://ab7dz.github.io/kufimaker/"/>

<!-- Open Graph โ ูุฌุนู ุงููุดุงุฑูุฉ ูู ูุงุชุณุงุจ ูุชููุชุฑ ุชุธูุฑ ุจุตูุฏูู ุฌููู -->
<meta property="og:title" content="kufiMaker โ ูุญุฑุฑ ุงูุฎุท ุงููููู ุงููุฑุจุน"/>
<meta property="og:description" content="ุฃูุดุฆ ุญุฑููุงู ููููุฉ ูุฑุจุนุฉ ุงุญุชุฑุงููุฉ ูุฌุงูุงู ูู ูุชุตูุญู"/>
<meta property="og:type" content="website"/>
<meta property="og:url" content="https://ab7dz.github.io/kufimaker/"/>
<meta property="og:locale" content="ar_SA"/>

<!-- โโ Fonts โโ -->
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;900&display=swap" rel="stylesheet">
<!-- โโ Css โ -->
<link rel="stylesheet" href="styles.css">

</head>
<body>

<!-- WELCOME SCREEN -->
<div id="welcomeScreen">
  <div class="wl-logo">kufiMaker โฆ</div>
  <div class="wl-sub">ูุญุฑุฑ ุงูุฎุท ุงููููู ุงููุฑุจุน</div>
  <div class="wl-cards">
    <div class="wl-card" id="wlNew">
      <div class="wl-card-icon">โจ</div>
      <div class="wl-card-title">ูุดุฑูุน ุฌุฏูุฏ</div>
      <div class="wl-card-desc">ุงุจุฏุฃ ูู ุงูุตูุฑ</div>
    </div>
    <div class="wl-card" id="wlRestore" style="display:none">
      <div class="wl-card-icon">๐</div>
      <div class="wl-card-title">ุงุณุชูุฑ ูู ุญูุซ ุชูููุช</div>
      <div class="wl-card-desc" id="wlRestoreDesc">ุฌูุณุฉ ุณุงุจูุฉ</div>
    </div>
    <div class="wl-card" id="wlLoad">
      <div class="wl-card-icon">๐</div>
      <div class="wl-card-title">ูุชุญ ููู</div>
      <div class="wl-card-desc">JSON ูุญููุธ</div>
    </div>
  </div>
  <div class="wl-actions">
    <button class="wl-btn primary" id="wlEnter">ุงุจุฏุฃ ุงูุชุตููู โ</button>
  </div>
  <div class="wl-restore-info" id="wlInfo"></div>
</div>

<!-- TOP BAR -->
<div id="topbar">
  <!-- Row 1: Logo + Panel Tabs -->
  <div id="topbarRow1">
    <!-- Logo left -->
    <div class="tb-logo">
      <img src="icons/icon-192.png" alt="kufiMaker" style="width:34px;height:34px;border-radius:10px;flex-shrink:0;"/>
      <div>
        <div class="tb-logo-text">kufiMaker</div>
        <div class="tb-logo-sub">ูุญุฑุฑ ุงูุฎุท ุงููููู ุงููุฑุจุน</div>
      </div>
    </div>
    <div class="spacer"></div>
    <!-- About button -->
    <button class="tb-panel-btn" id="tbAbout" data-tip="ุนู ุงููุทูุฑ" data-sheet="about" style="margin-left:2px;">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="18" height="18"><circle cx="12" cy="8" r="4"/><path d="M4 20c0-4 3.6-7 8-7s8 3 8 7"/></svg>
      <span>ุงููุทูุฑ</span>
    </button>
    <div style="width:1px;height:28px;background:var(--border);margin:0 4px;flex-shrink:0;"></div>
    <!-- Panel buttons right -->
    <button class="tb-panel-btn" id="tbTools" data-tip="ุฃุฏูุงุช" data-sheet="tools">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M19.07 4.93a10 10 0 0 1 0 14.14M4.93 4.93a10 10 0 0 0 0 14.14"/></svg>
      <span>ุฃุฏูุงุช</span>
    </button>
    <button class="tb-panel-btn" id="tbGrid" data-tip="ุงูุดุจูุฉ" data-sheet="grid">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/></svg>
      <span>ุดุจูุฉ</span>
    </button>
    <button class="tb-panel-btn" id="tbLetters" data-tip="ุงูุญุฑูู" data-sheet="letters">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 20h16M6 20V4l6 8 6-8v16"/></svg>
      <span>ุญุฑูู</span>
    </button>
    <button class="tb-panel-btn" id="tbBg" data-tip="ุงูุฎูููุฉ" data-sheet="bg">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg>
      <span>ุฎูููุฉ</span>
    </button>
  </div>
  <!-- Row 2: Action buttons -->
  <div id="topbarRow2">
    <button class="tb-btn" id="btnUndo" data-tip="ุชุฑุงุฌุน (Ctrl+Z)">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 14 4 9 9 4"/><path d="M20 20v-7a4 4 0 0 0-4-4H4"/></svg>
    </button>
    <button class="tb-btn" id="btnRedo" data-tip="ุฅุนุงุฏุฉ (Ctrl+Y)">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 14 20 9 15 4"/><path d="M4 20v-7a4 4 0 0 1 4-4h12"/></svg>
    </button>
    <div class="sep"></div>
    <button class="tb-btn" id="btnClear" data-tip="ูุณุญ ุงูููุญุฉ">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 6h18M19 6l-1 14H6L5 6"/><path d="M9 6V4h6v2"/></svg>
    </button>
    <div class="sep"></div>
    <button class="tb-btn" id="btnExport" data-tip="ุชุตุฏูุฑ PNG">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
    </button>
    <button class="tb-btn" id="btnSaveJSON" data-tip="ุญูุธ JSON">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/><polyline points="17 21 17 13 7 13 7 21"/><polyline points="7 3 7 8 15 8"/></svg>
    </button>
    <button class="tb-btn" id="btnLoadJSON" data-tip="ูุชุญ ููู JSON">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
    </button>
    <input type="file" id="loadFileInput" accept=".json" style="display:none"/>
  </div>
</div>

<!-- BOTTOM SHEET -->
<div id="sheetOverlay">
  <div id="bottomSheet" dir="rtl">
    <div class="bs-handle"></div>
    <div style="display:flex;align-items:center;padding:8px 16px 0;">
      <div class="bs-tabs" id="bsTabs" style="flex:1;padding:0;">
        <div class="bs-tab active" data-sheet="tools">ุฃุฏูุงุช</div>
        <div class="bs-tab" data-sheet="grid">ุงูุดุจูุฉ</div>
        <div class="bs-tab" data-sheet="letters">ุงูุญุฑูู</div>
        <div class="bs-tab" data-sheet="bg">ุงูุฎูููุฉ</div>
        <div class="bs-tab" data-sheet="about">ุงููุทูุฑ</div>
      </div>
      <button class="bs-close" id="bsClose">โ</button>
    </div>
    <div class="bs-content" id="bsContent"></div>
  </div>
</div>

<!-- MAIN -->
<div id="main">

  <!-- Canvas -->
  <div id="canvasArea">
    <div id="canvasViewport">
      <div id="gridCanvas"></div>
      <div id="bgLayer"></div>
      <div id="rulerH" data-row="" style="display:none;top:100px;"></div>
      <div id="rulerV" data-col="" style="display:none;left:100px;"></div>
    </div>
    <div id="coordsBar">X: 0 โ Y: 0</div>

    <!-- Zoom controls โ bottom left -->
    <div id="zoomCtrl">
      <button class="zoom-btn" id="zoomOut2" data-tip="ุชุตุบูุฑ">โ</button>
      <div id="zoomLevel2" style="padding:0 8px;height:30px;border-radius:var(--rs);border:1px solid var(--border);background:var(--surface);color:var(--muted);font-size:11px;display:flex;align-items:center;">100%</div>
      <button class="zoom-btn" id="zoomIn2" data-tip="ุชูุจูุฑ">+</button>
      <button class="zoom-btn" id="zoomFit2" data-tip="ููุงุกูุฉ" style="font-size:12px;">โก</button>
    </div>

    <!-- Floating tool bar โ INSIDE canvasArea so position:absolute works -->
    <div id="leftPanel">
      <button class="tool-btn active" data-tool="draw" data-tip="ุฑุณู (B)">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="18" height="18"><path d="M12 20h9"/><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"/></svg>
      </button>
      <button class="tool-btn" data-tool="erase" data-tip="ููุญุงุฉ (E)">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="18" height="18"><path d="M20 20H7L3 16l10-10 7 7-3.5 3.5"/><path d="M6.5 17.5l4-4"/></svg>
      </button>
      <button class="tool-btn" data-tool="fill" data-tip="ููุก (F)">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="18" height="18"><path d="M19 11L9 1 3 7l10 10"/><path d="M9.5 21.5a2.5 2.5 0 0 1-5 0c0-1.38 2.5-5 2.5-5s2.5 3.62 2.5 5z"/></svg>
      </button>
      <button class="tool-btn" data-tool="pan" data-tip="ุชุญุฑูู (H)">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="18" height="18"><path d="M5 9l-3 3 3 3M9 5l3-3 3 3M15 19l-3 3-3-3M19 9l3 3-3 3M2 12h20M12 2v20"/></svg>
      </button>
      <div class="tool-sep"></div>
      <!-- Color button: shows current color, click opens dropdown -->
      <div id="colorDropWrap" style="position:relative;">
        <div id="colorDropBtn" data-tip="ุงุฎุชุฑ ูููุงู"
          style="width:32px;height:32px;border-radius:9px;border:2px solid rgba(255,255,255,0.25);overflow:hidden;cursor:pointer;flex-shrink:0;position:relative;">
          <div id="colorPreview" style="width:100%;height:100%;background:#F5A623;"></div>
          <input type="color" id="quickColor" value="#F5A623" style="position:absolute;opacity:0;width:0;height:0;pointer-events:none;"/>
        </div>
        <!-- Dropdown panel -->
        <div id="colorDropdown">
          <div id="floatSwatches"></div>
          <div style="height:1px;background:rgba(255,255,255,0.08);margin:4px 0;"></div>
          <div data-tip="ููู ูุฎุตุต"
            style="width:26px;height:26px;border-radius:8px;background:conic-gradient(red,yellow,lime,cyan,blue,magenta,red);cursor:pointer;border:2px solid transparent;flex-shrink:0;"
            onclick="document.getElementById('quickColor').click()">
          </div>
        </div>
      </div>
      <div id="bgScaleControls" style="display:none;flex-direction:column;gap:3px;">
        <button class="tool-btn" id="bgScaleDown" data-tip="ุชุตุบูุฑ ุงูุฎูููุฉ">โ</button>
        <button class="tool-btn" id="bgScaleUp" data-tip="ุชูุจูุฑ ุงูุฎูููุฉ">+</button>
      </div>
    </div>
  </div>

  <!-- Right panel REMOVED โ content moved to bottom sheet via JS -->
  <!-- Hidden container holding all tab pane HTML -->
  <div id="tabPanesStore" style="display:none">

    <!-- TOOLS -->
    <div id="tab-tools" class="tab-pane">
      <div class="sec">ููู ุงูุฑุณู</div>
      <div class="ctrl-row">
        <div class="color-btn"><input type="color" id="fillColor" value="#F5A623"/></div>
        <span class="ctrl-label">ููู ุงูุญุดู</span>
      </div>
      <div class="ctrl-row">
        <div class="color-btn"><input type="color" id="bgColor" value="#0D1017"/></div>
        <span class="ctrl-label">ููู ุงูุฎูุงูุง ุงููุงุฑุบุฉ</span>
      </div>
      <div class="sec" style="margin-top:8px;display:flex;align-items:center;justify-content:space-between;">
        <span>ุฃููุงู ุณุฑูุนุฉ</span>
        <div style="display:flex;gap:4px;align-items:center;">
          <button class="lib-icon-btn" id="btnAddSwatch" title="ุฅุถุงูุฉ ููู ุฌุฏูุฏ" style="width:22px;height:22px;font-size:14px;padding:0;">+</button>
          <input type="color" id="newSwatchColor" style="opacity:0;width:0;height:0;position:absolute;pointer-events:none;"/>
        </div>
      </div>
      <div class="swatches" id="swatchesContainer">
        <div class="swatch selected" style="background:#7C3AED" data-color="#7C3AED"></div>
        <div class="swatch" style="background:#A855F7" data-color="#A855F7"></div>
        <div class="swatch" style="background:#EF4444" data-color="#EF4444"></div>
        <div class="swatch" style="background:#22C55E" data-color="#22C55E"></div>
        <div class="swatch" style="background:#3B82F6" data-color="#3B82F6"></div>
        <div class="swatch" style="background:#EC4899" data-color="#EC4899"></div>
        <div class="swatch" style="background:#14B8A6" data-color="#14B8A6"></div>
        <div class="swatch" style="background:#F5A623" data-color="#F5A623"></div>
        <div class="swatch" style="background:#FFFFFF" data-color="#FFFFFF"></div>
        <div class="swatch" style="background:#111827;border:1px solid #333" data-color="#111827"></div>
      </div>
      <div class="sec" style="margin-top:8px;">ุชุตุฏูุฑ</div>
      <div style="display:flex;flex-direction:column;gap:5px;">
        <button class="s-btn accent full" id="exportPNG">ุชุตุฏูุฑ PNG ูุธูู</button>
        <button class="s-btn full" id="exportWithBg">ุชุตุฏูุฑ ูุน ุฎูููุฉ</button>
      </div>
      <div class="sec" style="margin-top:8px;">ุฎูููุฉ ุงูููุญุฉ</div>
      <div class="btn-group">
        <button class="s-btn" id="canvasDark">ุฏุงููุฉ</button>
        <button class="s-btn" id="canvasLight">ูุงุชุญุฉ</button>
        <div class="color-btn" style="width:30px;height:30px;"><input type="color" id="canvasBgColor" value="#0A0C10"/></div>
      </div>
    </div>

    <!-- GRID -->
    <div id="tab-grid" class="tab-pane">
      <div class="sec">ุญุฌู ุงูุดุจูุฉ</div>
      <div class="size-grid">
        <div><div style="font-size:10px;color:var(--muted);text-align:center;margin-bottom:4px;">ุฃุนูุฏุฉ</div><input type="number" id="gridCols" value="24" min="5" max="120"/></div>
        <div><div style="font-size:10px;color:var(--muted);text-align:center;margin-bottom:4px;">ุตููู</div><input type="number" id="gridRows" value="24" min="5" max="120"/></div>
      </div>
      <button class="s-btn accent full" id="applyGridSize" style="margin-top:6px;">ุชุทุจูู</button>
      <div class="sec" style="margin-top:8px;">ููุงูุจ ุณุฑูุนุฉ</div>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:5px;">
        <button class="s-btn" data-preset="16,16">16ร16</button>
        <button class="s-btn" data-preset="24,24">24ร24</button>
        <button class="s-btn" data-preset="32,24">32ร24</button>
        <button class="s-btn" data-preset="40,40">40ร40</button>
        <button class="s-btn" data-preset="48,32">48ร32</button>
        <button class="s-btn" data-preset="64,48">64ร48</button>
      </div>
      <div class="sec" style="margin-top:8px;">ุญุฌู ุงูุฎููุฉ</div>
      <div class="ctrl-row"><input type="range" id="cellSizeR" min="10" max="80" value="30"/><span class="ctrl-val" id="cellSizeVal">30</span></div>
      <div class="sec">ูุฌูุฉ ุจูู ุงูุฎูุงูุง</div>
      <div class="ctrl-row"><input type="range" id="gapSizeR" min="0" max="30" value="15"/><span class="ctrl-val" id="gapSizeVal">15</span></div>
      <div class="sec">ุงุณุชุฏุงุฑุฉ ุงูุฃุฑูุงู</div>
      <div class="ctrl-row"><input type="range" id="cellRadR" min="0" max="20" value="5"/><span class="ctrl-val" id="cellRadVal">5</span></div>
      <div class="sec" style="margin-top:8px;">ุฎุทูุท ุงููุญุงูุฑ</div>
      <div class="ctrl-row"><input type="checkbox" id="showAxis" checked style="width:15px;height:15px;"/><span class="ctrl-label">ุฅุธูุงุฑ ุฎุทูุท ุงููุญุงูุฑ</span></div>
      <div class="ctrl-row">
        <div class="color-btn"><input type="color" id="axisColor" value="#7f0000"/></div>
        <span class="ctrl-label">ููู ุงููุญูุฑ</span>
      </div>
      <div class="ctrl-row"><span class="ctrl-label">ูู</span><input type="range" id="axisEveryR" min="2" max="20" value="5"/><span class="ctrl-val" id="axisEveryVal">5</span><span class="ctrl-label">ุฎููุฉ</span></div>
      <div class="sec" style="margin-top:8px;">ูุณุงุทุฑ ุงูุฅุฑุดุงุฏ</div>
      <div class="ctrl-row"><input type="checkbox" id="showRulers" style="width:15px;height:15px;"/><span class="ctrl-label">ุฅุธูุงุฑ ุงููุณุงุทุฑ ุงูุฒุฑูุงุก</span></div>
      <div class="sec" style="margin-top:8px;">ุฎุทูุท ุจูู ุงูุฎูุงูุง</div>
      <div class="ctrl-row"><input type="checkbox" id="showLineMode" style="width:15px;height:15px;"/><span class="ctrl-label">ุชูุนูู ุฑุณู ุงูุฎุทูุท ุงูุจูููุฉ</span></div>
    </div>

    <!-- LETTERS -->
    <div id="tab-letters" class="tab-pane">
      <div id="libHeader">
        <input type="text" id="libSearch" placeholder="ุจุญุซ..."/>
        <button class="lib-icon-btn" id="btnAddLetter" title="ุญุฑู ุฌุฏูุฏ">+</button>
        <button class="lib-icon-btn" id="btnExportLib" title="ุชุตุฏูุฑ JSON">โ</button>
        <button class="lib-icon-btn" id="btnImportLib" title="ุงุณุชูุฑุงุฏ JSON">โ</button>
        <button class="lib-icon-btn" id="btnResetLib" title="ุฅุนุงุฏุฉ ููุงูุชุฑุงุถู" style="color:#ef4444;">โบ</button>
        <input type="file" id="importLibFile" accept=".json" style="display:none"/>
      </div>
      <div id="letterLibrary"></div>
      <div class="sec" style="margin-top:10px;">ููุถุน ุงูุฅุฏุฑุงุฌ</div>
      <div class="ctrl-row">
        <span class="ctrl-label">X</span><input type="number" id="placeX" value="2" min="0" max="90" style="flex:1"/>
        <span class="ctrl-label">Y</span><input type="number" id="placeY" value="2" min="0" max="90" style="flex:1"/>
      </div>
      <div class="ctrl-row"><input type="checkbox" id="autoAdvance" checked style="width:15px;height:15px;"/><span class="ctrl-label">ุชูุฏู ุชููุงุฆู ููููุงู</span></div>
    </div>

    <!-- BACKGROUND -->
    <div id="tab-bg" class="tab-pane">

      <!-- upload zone -->
      <label class="upload-zone" for="bgFileInput" id="bgUploadZone">
        <div style="margin-bottom:5px;">
                <img src="https://icon-icons.com/download-file?file=https%3A%2F%2Fimages.icon-icons.com%2F564%2FPNG%2F512%2FAdd_Image_icon-icons.com_54218.png" alt="kufiMaker" 
                     style="width:128px;height:128px;flex-shrink:0;"/>
        </div>
        <div style="font-size:13px;font-weight:600;">ุงููุฑ ูุฑูุน ุตูุฑุฉ ูุฑุฌุนูุฉ</div>
        <div style="font-size:10px;margin-top:3px;color:var(--muted);">PNG ยท JPG ยท WebP ยท SVG</div>
        <input type="file" id="bgFileInput" accept="image/*"/>
      </label>

      <!-- ูุนุงููุฉ ุจุนุฏ ุงูุฑูุน -->
      <div id="bgPreviewArea" style="display:none;border-radius:var(--r);overflow:hidden;border:1px solid var(--border);background:var(--surface2);margin-bottom:6px;">
        <img id="bgPreviewThumb" src="" alt="" style="width:100%;max-height:140px;object-fit:contain;display:block;padding:8px;"/>
        <div style="display:flex;gap:5px;padding:6px 8px;border-top:1px solid var(--border);background:var(--surface3);">
          <button class="s-btn" id="bgToggle" style="flex:1;font-size:11px;">ุฅุฎูุงุก</button>
          <button class="s-btn" id="bgReset" style="flex:1;font-size:11px;">ูุฑูุฒ</button>
          <button class="s-btn danger" id="bgRemove" style="flex:1;font-size:11px;">ุฅุฒุงูุฉ</button>
        </div>
      </div>

      <!-- ุฅุนุฏุงุฏุงุช โ ุชุธูุฑ ุชููุงุฆูุงู ุนูุฏ ูุฌูุฏ ุตูุฑุฉ -->
      <div id="bgControls" style="display:content;flex-direction:column;gap:6px;">
        <div class="sec">ุงูุดูุงููุฉ</div>
        <div class="ctrl-row"><input type="range" id="bgOpacity" min="0" max="1" step="0.05" value="0.35"/><span class="ctrl-val" id="bgOpacityVal">35%</span></div>
        <div class="sec">ุงูุญุฌู</div>
        <div class="ctrl-row"><input type="range" id="bgScale" min="10" max="300" value="100"/><span class="ctrl-val" id="bgScaleVal">100%</span></div>
        <div class="sec">ุงูููุถุน ุงูุฃููู (X)</div>
        <div class="ctrl-row"><input type="range" id="bgX" min="-600" max="600" value="0"/><span class="ctrl-val" id="bgXVal">0</span></div>
        <div class="sec">ุงูููุถุน ุงูุนููุฏู (Y)</div>
        <div class="ctrl-row"><input type="range" id="bgY" min="-600" max="600" value="0"/><span class="ctrl-val" id="bgYVal">0</span></div>
        <div class="sec">ูุถุน ุงูุณุญุจ</div>
        <div class="ctrl-row"><input type="checkbox" id="bgDraggable" style="width:15px;height:15px;"/><span class="ctrl-label">ุชูููู ุณุญุจ ุงูุตูุฑุฉ</span></div>
        <select id="bgBlendMode" style="display:none;width:100%;background:var(--surface3);border:1px solid var(--border);color:var(--text);padding:6px 8px;border-radius:var(--rs);font-family:'Tajawal',sans-serif;font-size:12px;outline:none;">
          <option value="normal">ุนุงุฏู</option>
          <option value="multiply">ุถุฑุจ</option>
          <option value="screen">ุดุงุดุฉ</option>
          <option value="overlay">ุชุฑุงูุจ</option>
          <option value="lighten">ุฅุถุงุกุฉ</option>
        </select>
 </div>

    </div>
    <!-- ABOUT -->
    <div id="tab-about" class="tab-pane">
      
      <!-- Profile card -->
      <div style="display:flex;flex-direction:column;align-items:center;padding:20px 16px 12px;gap:12px;">
        <div style="width:80px;height:80px;border-radius:22px;overflow:hidden;box-shadow:0 4px 24px rgba(245,166,35,0.45);flex-shrink:0;">
          <img src="icons/icon-192.png" alt="kufiMaker" style="width:100%;height:100%;object-fit:cover;display:block;"/>
        </div>
        <div style="text-align:center;">
          <div style="font-size:18px;font-weight:800;color:var(--text);letter-spacing:-.5px;">kufiMaker</div>
          <div style="font-size:12px;color:var(--muted);margin-top:3px;">ูุญุฑุฑ ุงูุฎุท ุงููููู ุงููุฑุจุน</div>
        </div>
      </div>

      <!-- App description -->
      <div style="background:var(--surface2);border-radius:var(--r);padding:14px 16px;margin:0 4px;border:1px solid var(--border);">
        
        <div style="font-size:12px;color:var(--muted);line-height:1.8;text-align:right;">
          ุฃุฏุงุฉ ูุฌุงููุฉ ูููุชูุญุฉ ุงููุตุฏุฑ ูุชุตููู ุงูุฎุท ุงููููู ุงููุฑุจุน.<br/>
          ุชุนูู ุจุงููุงูู ูู ุงููุชุตูุญ โ ุจุฏูู ุฎุงุฏู ุฃู ุจูุงูุงุช ุฎุงุตุฉ.
        </div>
      </div>
      
      <!-- Developer -->
      <div style="display:flex;align-items:center;gap:12px;padding:12px 14px;background:var(--surface2);border-radius:var(--r);border:1px solid var(--border);margin:8px 4px 0;">
        <div style="width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,var(--accent),var(--accent2));display:flex;align-items:center;justify-content:center;font-size:18px;flex-shrink:0;">๐จโ๐ป</div>
        <div>
          <div style="font-size:14px;font-weight:700;">ab7dz</div>
          <div><a style="font-size:12px;color:var(--accent2);font-weight:400;" href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="ddb5bcaebca4b2a89dbab0bcb4b1f3beb2b0"><span class="__cf_email__" data-cfemail="b5ddd4c6d4ccdac0f5d2d8d4dcd99bd6dad8">[email&#160;protected]</span></a></div>
          <div style="font-size:11px;color:var(--muted);">๏ธุงููุทูุฑ ุญุณูุงูู / CL46</div>
        </div>
  <div style="font-size:11px;color:var(--muted);">
   ุฅุนุงุฏุฉ ุชููุฆุฉ ุงูุชุทุจูู
            
   <div style="display: flex; gap: 8px; justify-content: center; margin-top: 10px; flex-wrap: wrap;">
      <button class="tb-panel-btn" id="btnReset" data-tip="ุฅุนุงุฏุฉ ุชููุฆุฉ ุดุงููุฉ">
         <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/></svg>
         <span>ุชููุฆุฉ</span>
      </button>

      <button class="tb-panel-btn" id="btnInstall" data-tip="ุชุซุจูุช ุงูุชุทุจูู" 
         style="display:content;">
         <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="18" height="18"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
         <span>ุชุซุจูุช</span>
      </button>
   </div>
</div>
      </div>

      <!-- Links -->
      <div style="display:flex;flex-direction:column;gap:6px;margin:8px 4px 0;">
        <a href="https://github.com/ab7dz/kufiMaker" target="_blank" rel="noopener"
          style="display:flex;align-items:center;gap:12px;padding:12px 14px;background:var(--surface2);border-radius:var(--r);border:1px solid var(--border);color:var(--text);text-decoration:none;font-size:13px;transition:border-color .15s;"
          onmouseover="this.style.borderColor='var(--accent)'" onmouseout="this.style.borderColor='var(--border)'">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" style="flex-shrink:0;"><path d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0 1 12 6.844a9.59 9.59 0 0 1 2.504.337c1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.745 0 .268.18.58.688.482A10.02 10.02 0 0 0 22 12.017C22 6.484 17.522 2 12 2z"/></svg>
          <div style="flex:1;">
            <div style="font-weight:600;">ุงููุตุฏุฑ ุนูู GitHub</div>
            <div style="font-size:11px;color:var(--muted);">ab7dz/kufiMaker</div>
          </div>
          <svg style="opacity:.4" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
        </a>
      </div>

      <!-- Version -->
      <div style="text-align:center;padding:16px 0 8px;font-size:11px;color:var(--muted);">
        kufiMaker v8 &nbsp;ยท&nbsp; MIT License &nbsp;ยท&nbsp; 2026
      </div>
    </div>

  </div><!-- /tabPanesStore -->

</div><!-- /main -->

<!-- STATUS BAR -->
<div id="statusBar">
  <span>ุงูุฃุฏุงุฉ: <b id="statusTool">ุฑุณู</b></span>
  <span>ุงูุดุจูุฉ: <b id="statusGrid">32ร24</b></span>
  <span>ููููุก: <b id="statusFilled">0</b></span>
  <span>X:<b id="statusX">โ</b> Y:<b id="statusY">โ</b></span>
</div>

<!-- MODAL -->
<div id="modalOverlay">
  <div id="modal">
    <h3 id="modalTitle">ุชุฃููุฏ</h3>
    <p id="modalMsg"></p>
    <div class="modal-btns">
      <button class="s-btn accent" style="flex:1" id="modalOk">ููุงูู</button>
      <button class="s-btn" style="flex:1" id="modalCancel">ุฅูุบุงุก</button>
    </div>
  </div>
</div>

<!-- LETTER EDITOR MODAL -->
<div id="letterEditorModal">
  <div class="le-panel">
    <div class="le-title">
      <span id="leModalTitle">ุญุฑู ุฌุฏูุฏ</span>
      <span class="le-close" id="leClose">โ</span>
    </div>
    <div class="le-fields">
      <div class="le-field">
        <label>ุงูุญุฑู / ุงูุฑูุฒ</label>
        <input type="text" id="leChar" placeholder="ูุซู: ู" maxlength="4"/>
      </div>
      <div class="le-field">
        <label>ุงูุงุณู</label>
        <input type="text" id="leName" placeholder="ูุซู: ููู"/>
      </div>
    </div>
    <div class="le-grid-controls">
      <span style="font-size:11px;color:var(--muted);">ุงูุดุจูุฉ:</span>
      <input type="number" id="leGridW" value="5" min="1" max="20"/> ร 
      <input type="number" id="leGridH" value="5" min="1" max="20"/>
      <button class="le-btn" id="leResizeBtn" style="flex:none;padding:4px 10px;font-size:11px;">ุชุทุจูู</button>
      <button class="le-btn" id="leClearBtn" style="flex:none;padding:4px 10px;font-size:11px;">ูุณุญ</button>
    </div>
    <div style="display:flex;gap:5px;align-items:center;margin-bottom:2px;">
      <span style="font-size:10px;color:var(--muted);">ุฃุฏุงุฉ:</span>
      <button class="le-tool-btn active" id="leToolDraw" data-letool="draw">โ๏ธ ุฑุณู</button>
      <button class="le-tool-btn" id="leToolErase" data-letool="erase">๐งน ูุณุญ</button>
    </div>
    <div class="le-editor-wrap">
      <div id="leEditorGrid" class="le-editor-grid"></div>
    </div>
    <div class="le-actions">
      <button class="le-btn danger" id="leDeleteBtn" style="display:none;">ุญุฐู</button>
      <button class="le-btn" id="leCancelBtn">ุฅูุบุงุก</button>
      <button class="le-btn primary" id="leSaveBtn">ุญูุธ ุงูุญุฑู</button>
    </div>
  </div>
</div>

<script src="app.js" defer></script>

</body>
</html>
